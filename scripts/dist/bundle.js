!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";var r=n(1);function o(){}var i=null,u={};function c(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,e!==o&&p(e,this)}function s(e,t){for(;3===e._i;)e=e._j;if(c._l&&c._l(e),0===e._i)return 0===e._h?(e._h=1,void(e._k=t)):1===e._h?(e._h=2,void(e._k=[e._k,t])):void e._k.push(t);!function(e,t){r(function(){var n=1===e._i?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return i=e,u}}(n,e._j);r===u?f(t.promise,i):a(t.promise,r)}else 1===e._i?a(t.promise,e._j):f(t.promise,e._j)})}(e,t)}function a(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return i=e,u}}(t);if(n===u)return f(e,i);if(n===e.then&&t instanceof c)return e._i=3,e._j=t,void l(e);if("function"==typeof n)return void p(n.bind(t),e)}e._i=1,e._j=t,l(e)}function f(e,t){e._i=2,e._j=t,c._m&&c._m(e,t),l(e)}function l(e){if(1===e._h&&(s(e,e._k),e._k=null),2===e._h){for(var t=0;t<e._k.length;t++)s(e,e._k[t]);e._k=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return i=e,u}}(e,function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==u||(n=!0,f(t,i))}e.exports=c,c._l=null,c._m=null,c._n=o,c.prototype.then=function(e,t){if(this.constructor!==c)return function(e,t,n){return new e.constructor(function(r,i){var u=new c(o);u.then(r,i),s(e,new h(t,n,u))})}(this,e,t);var n=new c(o);return s(this,new h(e,t,n)),n}},function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0,u=1024;function c(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>u){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var s,a,f,l=void 0!==t?t:self,h=l.MutationObserver||l.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(s=1,a=new h(c),f=document.createTextNode(""),a.observe(f,{characterData:!0}),r=function(){s=-s,f.data=s}):r=p(c),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n(4))},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";e.exports=n(0),n(5),n(6),n(7),n(8),n(10)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(0);e.exports=r,r.prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,n){"use strict";var r=n(0);e.exports=r,r.prototype.finally=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},function(e,t,n){"use strict";var r=n(0);e.exports=r;var o=f(!0),i=f(!1),u=f(null),c=f(void 0),s=f(0),a=f("");function f(e){var t=new r(r._n);return t._i=1,t._j=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return u;if(void 0===e)return c;if(!0===e)return o;if(!1===e)return i;if(0===e)return s;if(""===e)return a;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r(function(t,n){n(e)})}return f(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){if(0===t.length)return e([]);var o=t.length;function i(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof r&&c.then===r.prototype.then){for(;3===c._i;)c=c._j;return 1===c._i?i(u,c._j):(2===c._i&&n(c._j),void c.then(function(e){i(u,e)},n))}var s=c.then;if("function"==typeof s)return void new r(s.bind(c)).then(function(e){i(u,e)},n)}t[u]=c,0==--o&&e(t)}for(var u=0;u<t.length;u++)i(u,t[u])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";var r=n(0),o=n(9);e.exports=r,r.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?function(e,t){for(var n=[],o=0;o<t;o++)n.push("a"+o);var u=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],u)(r,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),n=[],o=0;o<t;o++)n.push("a"+o);var u=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],u)(r,e)}(e)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,i=this;try{return e.apply(this,arguments).nodeify(n,i)}catch(e){if(null==n)return new r(function(t,n){n(e)});o(function(){n.call(i,e)})}}},r.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then(function(n){o(function(){e.call(t,null,n)})},function(n){o(function(){e.call(t,n)})})}},function(e,t,n){"use strict";var r=n(1),o=[],i=[],u=r.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function c(e){var t;(t=o.length?o.pop():new s).task=e,r(t)}function s(){this.task=null}e.exports=c,s.prototype.call=function(){try{this.task.call()}catch(e){c.onerror?c.onerror(e):(i.push(e),u())}finally{this.task=null,o[o.length]=this}}},function(e,t,n){"use strict";var r=n(0);e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._i)return this._j.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._j},r.prototype.getReason=function(){if(3===this._i)return this._j.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._j},r.prototype.getState=function(){return 3===this._i?this._j.getState():-1===this._i||-2===this._i?0:this._i}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o=document.getElementsByClassName("news")[0],i=document.getElementsByClassName("news-sources")[0],u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,u;return t=e,(n=[{key:"SetNewsSources",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("p");n.setAttribute("class","news-sources__item"),n.setAttribute("id",e[t].id),n.innerText=e[t].name,i.appendChild(n)}}},{key:"DeleteAllNews",value:function(){for(;o.firstChild;)o.removeChild(o.firstChild)}},{key:"ResetNews",value:function(){this.DeleteAllNews();var e=document.createElement("p");e.setAttribute("class","news__item_none"),e.innerText="There are no articles matching your request.",o.appendChild(e)}},{key:"AddNews",value:function(e,t,n){for(var r=t;r<Math.min(e.length,n,40);r++){0!=document.getElementsByClassName("news__item_none").length&&o.removeChild(o.firstChild);var i=document.createElement("img");i.setAttribute("class","news__picture"),i.setAttribute("src",e[r].urlToImage),i.setAttribute("alt","shit happens");var u=document.createElement("h1");u.setAttribute("class","news__header"),u.innerText=e[r].title;var c=document.createElement("p");c.setAttribute("class","news__content"),c.innerText=e[r].content;var s=document.createElement("div");s.setAttribute("class","news__text"),s.appendChild(u),s.appendChild(c);var a=document.createElement("a");a.setAttribute("class","news__item"),a.setAttribute("href",e[r].url),a.appendChild(i),a.appendChild(s),o.appendChild(a)}}}])&&r(t.prototype,n),u&&r(t,u),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(2),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=new u}var t,n,r;return t=e,(n=[{key:"ResetArticleCount",value:function(){this.articleCount=5}},{key:"SetNewsSources",value:function(){var e=this;return new s(function(t,n){var r=new Request("https://newsapi.org/v2/sources?apiKey=41950848958d4781988fa88a37b96003");fetch(r).then(function(e){return e.json()},function(e){alert(e)}).then(function(n){e.view.SetNewsSources(n.sources),t()})})}},{key:"GetNewsFromSource",value:function(e){console.log(e);var t="https://newsapi.org/v2/top-headlines?"+(""==e?"country=us&":"sources=".concat(e,"&"))+"sortBy=popularity&apiKey=41950848958d4781988fa88a37b96003",n=new Request(t),r=this;fetch(n).then(function(e){return e.json()},function(e){alert(e)}).then(function(e){r.view.ResetNews(),r.ResetArticleCount(),r.articles=e.articles,r.view.AddNews(r.articles,0,r.articleCount)})}},{key:"GetNewsByRequest",value:function(e){var t=this,n=new Request("https://newsapi.org/v2/everything?q="+e+"&sortBy=popularity&apiKey=41950848958d4781988fa88a37b96003");fetch(n).then(function(e){return e.json()},function(e){alert(e)}).then(function(e){t.view.ResetNews(),t.ResetArticleCount(),t.articles=e.articles,t.view.AddNews(t.articles,0,t.articleCount)})}},{key:"LoadMore",value:function(){this.articleCount+=5,console.warn(this.articles),this.view.AddNews(this.articles,this.articleCount-5,this.articleCount)}}])&&c(t.prototype,n),r&&c(t,r),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=new a}var t,n,r;return t=e,(n=[{key:"SetNewsSources",value:function(){var e=this;return new Promise(function(t,n){e.model.SetNewsSources().then(function(){t()})})}},{key:"SourceNewsClick",value:function(e){"allNews"==e&&(e=""),this.model.GetNewsFromSource(e)}},{key:"RequestClick",value:function(e){this.model.GetNewsByRequest(e)}},{key:"LoadMore",value:function(){this.model.LoadMore()}}])&&f(t.prototype,n),r&&f(t,r),e}());l.SetNewsSources().then(function(){!function(e){var t=document.getElementById("mainFilterInput"),n=document.getElementById("btnMainFilter");t.addEventListener("keyup",function(e){e.preventDefault(),13==e.keyCode&&n.click()});for(var r=document.getElementsByClassName("news-sources__item"),o=function(t){r[t].onclick=function(){e.SourceNewsClick(r[t].id)}},i=0;i<r.length;i++)o(i);n.onclick=function(){e.RequestClick(t.value)},document.getElementById("btnMainLoadMore").onclick=function(){e.LoadMore()}}(l)}),l.SourceNewsClick("")}]);
//# sourceMappingURL=bundle.js.map